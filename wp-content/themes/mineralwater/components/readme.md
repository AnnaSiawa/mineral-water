# Работа с компонентами

- `wp-content/themes/evotor/components` - Общая папка компонентов
- `all.scss` - Общий файл для подключения стилей компонентов
- `all.js` - Общий файл для подключения javascript'a компонентов
- `components-controller.php` - Рендерит и управляет компонентами

## Создание нового компонента на примере **footer-landing**

- создать папку с именем как будет называться компонент, например **footer-landing** в `components`
- в этой папке создать файл шаблона **php** с именем компонента **footer-landing.php**
- _(если нужно)_ для стилей создать папку **scss** в ней файл с именем компонента **footer-landing.scss**
- импортировать его в **all.scss**
- _(если нужно)_ для js создать папку **js** в ней файл с именем компонента **footer-landing.js**
- импортировать его в **all.js**

## Описание шаблона компонента

- в начале файла должен быть php блок с описанием всех используемых переменных и их дефолтными значениями. Это позволит рендерить компонент без передачи параметров и служит наглядным описанием какие параметры принимает компонент.
- в конце описания всех переменных обязательно вызвать `extract($params);` для распаковки переданных параметров и перезаписи дефолтных.
- после блока php идет обычный html код с выводом переменных

## Рендер компонента и передача ему параметров

Для вывода компонента вызвать статический метод `render` у класса `Component` передав обязательный параметр, имя компонента.

### Пример:

`<?= Component::render('footer-landing'); ?>`

Вторым, не обязательным, параметром передаётся массив параметров для компонента.

## Пример:

```
 <?=
    Component::render('footer-landing', [
        'copyright' => '&copy; Эвотор 2021',
        'links' => [
            [
                'href' => 'https://auth.evotor.ru/legal/offer/20203012',
                'text' => 'Оферта',
            ],
            [
                'href' => 'https://evotor.ru/wp-content/themes/evotor/docs/pers_data_new.pdf',
                'text' => 'Политика персональных данных',
            ],
        ]
    ]);
?>
```
